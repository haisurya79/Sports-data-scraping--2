name: MotoGP Auto Update
on:
  schedule: [{cron: "0 0 * * *"}] # Runs daily
  workflow_dispatch: # Allows manual run
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - install-deps: run: |
          pip install pandas playwright
          playwright install chromium
      - run-script: run: python scraper.py
      - commit: run: |
          git config user.name "Automated"
          git config user.email "actions@github.com"
          git add motogp_2026_schedule.csv
          git commit -m "Update Calendar" || exit 0
          git push
